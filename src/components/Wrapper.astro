---
interface Props {
  element?: keyof astroHTML.JSX.DefinedIntrinsicElements
  className?: string
}

const { element: Element = "div", className, ...rest } = Astro.props
---

<Element class:list={["wrapper", className]} {...rest}>
  <slot />
</Element>

<style>
  .wrapper {
    display: grid;
    grid-template-columns:
      [full-start] minmax(3rem, 1fr)
      [wide-start] minmax(0, 10rem)
      [main-start] 52ch [main-end]
      minmax(0, 10rem) [wide-end]
      minmax(3rem, 1fr) [full-end];
    gap: 1.25rem 0;
    margin: 0 0 1.25rem 0;
  }

  :where(.wrapper) > :global(:where(*)) {
    grid-column: main;
  }

  @media screen and (max-width: 70rem) {
    .wrapper {
      grid-template-columns:
        [full-start] 3rem
        [wide-start] 1fr
        [main-start] minmax(0, 52ch) [main-end]
        1fr [wide-end]
        3rem [full-end];
    }

    :where(.wrapper) > :global(:where(*)) {
      grid-column: wide-start / main-end;
    }
  }

  @media screen and (max-width: 50rem) {
    .wrapper {
      grid-template-columns:
        [full-start] 1.5rem
        [wide-start] 1fr
        [main-start] minmax(0, 52ch) [main-end]
        1fr [wide-end]
        1.5rem [full-end];
    }
  }
</style>
