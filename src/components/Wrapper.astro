---
interface Props {
  element?: keyof astroHTML.JSX.DefinedIntrinsicElements
  className?: string
}

const { element: Element = "div", className, ...rest } = Astro.props
---

<Element class:list={["wrapper", className]} {...rest}>
  <slot />
</Element>

<style lang="scss">
  .wrapper {
    display: grid;
    grid-template-columns:
      [full-start] minmax(1.5rem, 1fr)
      [wide-start l-side-start r-main-start] minmax(10ch, 20ch)
      [l-side-end l-main-start] 30ch [r-side-start r-main-end]
      minmax(10ch, 20ch) [l-main-end r-side-end wide-end]
      minmax(1.5rem, 1fr) [full-end];
    gap: 1.25rem 0;
    margin: 0 0 1.25rem 0;
  }

  :where(.wrapper) > :global(:where(*)) {
    grid-column: l-main;
  }

  @media screen and (max-width: $bp) {
    .wrapper {
      grid-template-columns:
        [full-start] 1.5rem
        [wide-start l-main-start r-main-start l-side-start r-side-start] minmax(
          0,
          1fr
        )
        [l-main-end r-main-end l-side-end r-side-end wide-end]
        1.5rem [full-end];
    }
  }
</style>
