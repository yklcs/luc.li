---
import Wrapper from "./Wrapper.astro"

const url = Astro.url
---

<Wrapper className={"wrapper"}>
  <header>
    <a href="/" class="breadcrumb-home">yklcs.com</a>
    {
      url.pathname == "/" ? (
        <h1 class="index-name">Lucas Yunkyu Lee</h1>
      ) : (
        <div class="breadcrumbs">
          {url.pathname
            .split("/")
            .filter(str => str)
            .map((elm, idx, arr) => (
              <div class="breadcrumb-group">
                {<span class="breadcrumb-separator">/</span>}
                <a
                  href={`/${arr.slice(0, idx + 1).join("/")}`}
                  class="breadcrumb-link"
                >
                  {elm}
                </a>
              </div>
            ))}
        </div>
      )
    }
  </header>
</Wrapper>

<style lang="scss">
  header {
    display: contents;
    line-height: 1.2;
    @media screen and (max-width: 70rem) {
      display: flex;
    }
  }

  .index-name {
    margin: 0;
    font-weight: 400;
    font-size: 1em;
    @media screen and (max-width: 70rem) {
      display: none;
    }
  }

  a.breadcrumb-home {
    grid-column: wide-start;
    justify-self: start;
    font-weight: 700;
  }

  .breadcrumb-group {
    display: flex;
    gap: 0 0.5ch;
  }

  .breadcrumbs {
    display: flex;
    grid-column: main;
    flex-direction: row;
    flex-wrap: wrap;
    gap: 0 0.5ch;
    margin: 0 0.5ch;
  }

  .breadcrumb-separator {
    color: var(--neutral-60);
    font-weight: 400;
  }
</style>
