---
import Wrapper from "./Wrapper.astro"

const url = Astro.url
---

<Wrapper className={"wrapper"}>
  <header>
    <a href="/" class="breadcrumb-home">⁂</a>
    {
      url.pathname !== "/" && (
        <div class="breadcrumbs">
          {url.pathname
            .split("/")
            .filter(str => str)
            .map((elm, idx, arr) => (
              <div class="breadcrumb-group">
                {<span class="breadcrumb-separator">⁄</span>}
                <a
                  href={`/${arr.slice(0, idx + 1).join("/")}`}
                  class="breadcrumb-link"
                >
                  {elm}
                </a>
              </div>
            ))}
        </div>
      )
    }
  </header>
</Wrapper>

<style lang="scss">
  header {
    display: flex;
    grid-column: l-side / wide-end;
    align-items: flex-start;
    line-height: 1.1;
  }

  a.breadcrumb-home {
    font-size: 1.2rem;
    line-height: 1.1rem;
  }

  .breadcrumbs {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    gap: 0.25rem 1ch;
    margin: 0 1ch;

    .breadcrumb-group {
      display: flex;
      gap: 0 1ch;
    }

    .breadcrumb-separator {
      color: var(--neutral-60);
      font-weight: 400;
    }
  }
</style>
